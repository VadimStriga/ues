<!-- templates/users/users_list.html -->
{% extends 'base.html' %}

{% block title %}
  Список сотрудников
{% endblock title %}

{% block content %}
  {% load static %}
  <link rel="stylesheet" href="{% static 'css/table_sort.css' %}">
  <script src={% static "js/table_sort.js" %}></script>
  <div class="container-fluid">
    <table class="table table-striped table-hover table_sort caption-top">
      <caption>Действующих сотрудников: {{ users_count }}</caption>
      <thead class="table-dark">
        <tr>
          <th scope="col">#</th>
          <th scope="col">Фамилия</th>
          <th scope="col">Имя</th>
          <th scope="col">Отчество</th>
          <th scope="col">Должность</th>
          <th scope="col">Дата рождения</th>
          <th scope="col">Email</th>
        </tr>
      </thead>
      <tbody>
        {% for profile in page_obj %}
          <tr>
            <td scope="row"></td>
            <td>{{ profile.last_name }}</td>
            <td>{{ profile.first_name }}</td>
            <td>{{ profile.middle_name }}</td>
            <td>{{ profile.post }}</td>
            <td>{{ profile.birth_date }}</td>
            <td>
              <a class="link-offset-2 link-underline link-underline-opacity-0"
                 href="{% url 'users:user_profile' profile.id %}">
                {{ profile.email }}
              </a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  <div class="text-center">
    {% include 'includes/paginator.html' %}
  </div>
{% endblock content %} 